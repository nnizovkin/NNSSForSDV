# NNSSForSDV
Фреймворк для поиска ближайшего соседа для точек движущихся по какой-то траектории.
 Применимо в различных системах автопилотирования.

Создаём набор сеток с одной точкой отсчёта и масштабами последовательными степенями двойки.
Сетка хранится в хеш таблице с открытой адресацией. Точка сетки - точка пересечения линий сетки.
Например у сетки масштаба 1 и точкой отсчёта 0 0 точками сетки будут например (0 0) (0 1) (0 2) (1 1) (1 2) и т.д.

При добавлении новой точки к сетке мы ищем ближайшую точку на сетке к данной и добавляем её в хеш таблицу.
 Добавляем точку к сетке каждого масштаба.

Для масштабирования сетки и пространство можно нарезать и хранить частями и при необходимости подгружать.

При поиске ближайшего соседа точки A, если точка A не попадает в кусок нарезанных сеток перегружаем сетки.
При поиске ближайшего соседа точки A, мы ищем сетку с минимальным масштабом, в которой для точки на сетке ближайшей к
A добавлялась ближайшая точка. Иными словами мы округляем точку A до таких координат, чтобы она была точкой на сетке и
после этого смотрим есть ли такая точка в хеш таблице.
